!function(e){var n={};function t(o){if(n[o])return n[o].exports;var r=n[o]={i:o,l:!1,exports:{}};return e[o].call(r.exports,r,r.exports,t),r.l=!0,r.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)t.d(o,r,function(n){return e[n]}.bind(null,r));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);const o=["RECTANGLE","TRIANGLE","TRAPEZIUM","CHAIR","CLIPPED","L_SHAPED","T_SHAPED","V_SHAPED","CIRCULAR"],r={RECTANGLE:"custom-square-rectangle-foam.jpg",TRIANGLE:"wedge-custom-cushion.jpg",TRAPEZIUM:"trapezoid-custom-foam-cushion.jpg",CHAIR:"chair_cushion_custom_foam.jpg",CLIPPED:"clipped-bolster-custom-foam-cushion.jpg",L_SHAPED:"l-custom-foam-cushion.jpg",T_SHAPED:"t-shape-custom-cushion.jpg",V_SHAPED:"split-v-berth-custom-foam-cushion.jpg",CIRCULAR:"circular-cushion-or-bed.jpg"},s={RECTANGLE:"Rectangle or Square Cushion",TRIANGLE:"Triangle or *Wedge Cushion",TRAPEZIUM:"V-Berth / Trapezoid Cushion",CHAIR:"Chair Cushion",CLIPPED:"Clipped Bolster Cushion",L_SHAPED:"L Shaped Cushion",T_SHAPED:"T Shaped Cushion",V_SHAPED:"Split V-Berth Cushion",CIRCULAR:"Circular Cushion or Mattress"},i={RECTANGLE:{fields:[{name:"(1) Length",dimension:"x"},{name:"(2) Width",dimension:"y"}],thicknessName:"Thickness"},TRIANGLE:{fields:[{name:"(2) Length",dimension:"x"},{name:"(3) Width",dimension:"y"}],thicknessName:"(1) Thickness"},TRAPEZIUM:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},CHAIR:{fields:[{name:"(1) Length to radius",dimension:"x"},{name:"(2) Base Length",dimension:"y"},{name:"(4) Radius",dimension:"x"}],thicknessName:"(3) Thickness"},CLIPPED:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Bottom",dimension:"y"},{name:"(5) Side"}],thicknessName:"(2) Thickness"},L_SHAPED:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Center"},{name:"(5) Ear Height"},{name:"(6) Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},T_SHAPED:{fields:[{name:"(1) Top",dimension:"x"},{name:"(3) Ear length",dimension:"y"},{name:"(4) Ear depth"},{name:"(5) Center Length",dimension:"y"},{name:"(6) Bottom"}],thicknessName:"(2) Thickness"},V_SHAPED:{fields:[{name:"(1) Back / Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Front / Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},CIRCULAR:{fields:[{name:"(2) Diameter",dimension:"x",weight:2}],thicknessName:"(1) Thickness"}},a={container:"#material-types",price:"material-price",description:"material-description"},c={content:"#carousel-content",prevArrow:"#slider-prev",nextArrow:"#slider-next"},l="#foam-shape",d={container:"#base-fields",field:(e=!0)=>`${e?".":""}base-field`},u={container:(e,n=!0)=>`${n?"#":""}layer-${e}-fields`,toggleContainer:(e,n=!0)=>`${n?"#":""}layer-${e}-toggle-container`,toggle:(e,n=!0)=>`${n?"#":""}layer-${e}-toggle`,thickness:(e,n=!0)=>`${n?"#":""}layer-${e}-thickness`,foamType:(e,n=!0)=>`${n?"#":""}layer-${e}-foam-type`},p="#cart",m="#minimum-price-note",y="#price",h='[data-drupal-selector="edit-unit-price-0-amount-number"]',f='[data-drupal-selector="description"]',g=/^\d*(\.\d*)?\d$/;let j=!1,Q=!1,T=!1;const k=()=>{jQuery(u.container(2)).toggleClass("hidden",!j),jQuery(u.toggleContainer(3)).toggleClass("hidden",!Q),jQuery(u.container(3)).toggleClass("hidden",!T)},b=()=>[...jQuery(a.container).find("div").map(function(){const e=jQuery(this);return{price:e.data(a.price),description:e.data(a.description)}})],v=()=>{const e=(e=>n=>{const t=[jQuery(u.thickness(n)).val(),jQuery(u.foamType(n)).val()];return[...e,...t].reduce((e,n)=>e*n,1)})((()=>[...jQuery(d.field())].reduce((e,n)=>{const t=jQuery(n),o=t.val(),r=t.data("dimension"),s=t.data("weight")||1;return"x"===r&&(e[0]=(e[0]||0)+Math.pow(o,Number(s))),"y"===r&&(e[1]=(e[1]||0)+Math.pow(o,Number(s))),e},[]))()),n=e(1),t=j?e(2):0,o=T?e(3):0;let r=(n+t+o)/144||0;j&&t&&(r+=5),T&&o&&(r+=5),jQuery(p).toggleClass("cart-not-available",r<5),jQuery(y).text(`$ ${r.toFixed(2)}`),jQuery(m).hide(),r<5&&jQuery(m).show(),jQuery(h).val(r.toFixed(2)),((e,n,t)=>{let o=jQuery(l).find(":selected").text();const r=e=>{const n=jQuery(u.thickness(e)).val(),t=jQuery(u.foamType(e));return n&&0!==t.prop("selectedIndex")?{thickness:n,foamType:t.find(":selected").text()}:null};o+=`\nTotal thickness: ${[1,2,3].reduce((e,n)=>{const t=jQuery(u.thickness(n)).val();return t?e+parseFloat(t):e},0)}, dimensions: ${[...jQuery(d.field()).map((e,n)=>{const t=jQuery(n);return{label:t.parent(".base-field-wrapper").find("label").text(),value:t.val()}})].map(({label:e,value:n})=>`${e}: ${n}`).join(", ")}`;const s=r(1);s&&(o+=`\nBase layer: ${s.thickness}" layer of ${s.foamType} ($${(e/144).toFixed(2)})`);const i=r(2);j&&i&&(o+=`\nSecond layer: ${i.thickness}" layer of ${i.foamType} ($${(n/144+5).toFixed(2)})`);const a=r(3);T&&a&&(o+=`\nThird layer: ${a.thickness}" layer of ${a.foamType} ($${(t/144+5).toFixed(2)})`),jQuery(f).val(o)})(n,t,o)},x=function(){const e=jQuery(this),n=e.val().toString();g.test(n)||""===n?(e.parent().find(".help-block").remove(),v()):e.parent().append((()=>{const e=jQuery("<span />",{class:"help-block"});return e.text("Number must be in decimal form, i.e. 12.25 (is equal to 12 and 1/4 inches)"),e})())},C=e=>e.forEach(e=>{jQuery(u.thickness(e)).val(""),jQuery(u.foamType(e)).prop("selectedIndex",0)}),E=e=>{let n;switch(e){case 2:n=j;break;case 3:n=T;break;default:n=!1}jQuery(`${u.toggle(e)}-plus`).toggleClass("hidden",n),jQuery(`${u.toggle(e)}-minus`).toggleClass("hidden",!n)},A=e=>({thickness:jQuery(u.thickness(e)).val(),foamType:jQuery(u.foamType(e)).val()}),$=e=>{const n=(e=>n=>{const{thickness:t,foamType:o}=e[`layer${n}`];t&&jQuery(u.thickness(n)).val(t),o&&jQuery(u.foamType(n)).val(o)})(e);jQuery(d.field()).each(function(n){jQuery(this).val(e.base[n])}),n(1),e.layer2&&(n(2),j=!0),e.layer3&&(n(3),Q=!0,T=!0),k(),[2,3].forEach(e=>E(e)),v()};jQuery(u.toggle(2)).click(()=>{Q=j=!j,j||(T=!1,C([2,3]),E(3)),E(2),k(),v()}),jQuery(u.toggle(3)).click(()=>{(T=!T)||C([3]),E(3),k(),v()});const L={},P=e=>`images/${r[e]}`,S=e=>{const n=b(),t=jQuery("<div />",{class:"form-group col-sm-12 col-md-6"}),o=jQuery("<label />").text("Foam Type"),r=jQuery("<select />",{id:u.foamType(e,!1),class:"form-control"}).on("change",v),s=n.map(({price:e,description:n})=>jQuery("<option />",{val:e}).text(n)),i=jQuery("<option selected disabled />").text("Select");return r.prop("selectedIndex",0).append(i,s),t.append(o,r),1===e&&t.append((()=>{const e=jQuery("<a />",{class:"modal-togggle"}),n=jQuery("<img />",{src:"svg/information.svg"});return e.append(n,"Learn more about foam types"),e})()),t};(()=>{const e=jQuery(c.content),n=o.map((e,n)=>{const t=jQuery("<div />",{class:`item ${0===n?"active":""}`,"data-index":n,"data-shape":e}),o=jQuery("<img />",{src:P(e),alt:s[e]});return t.append(o),t});e.append(n),e.slick({infinite:!0,centerMode:!0,prevArrow:jQuery(c.prevArrow),nextArrow:jQuery(c.nextArrow),mobileFirst:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),e.on("beforeChange",(e,n,t,o)=>{L[t]=(()=>{const e={base:[...jQuery(d.field()).map((e,n)=>jQuery(n).val())],layer1:A(1)};return j&&(e.layer2=A(2)),T&&(e.layer3=A(3)),e})(),jQuery(l).prop("selectedIndex",o).trigger("change")}),e.on("afterChange",(e,n,t)=>{const o=L[t];o&&$(o)})})(),(()=>{const e=o.map((e,n)=>jQuery("<option></option>",{value:e,"data-index":n}).text(s[e]));jQuery(l).append(e).on("change",function(){const e=jQuery(this),n=e.val(),t=e.find(":selected").data("index");(e=>{const n=i[e].fields.map(e=>{const n=jQuery("<div />",{class:"form-group col-sm-12 col-md-6 base-field-wrapper"}),t=jQuery("<label></label>").text(e.name),o={class:`form-control ${d.field(!1)}`,placeholder:"How many inches?"};e.dimension&&(o["data-dimension"]=e.dimension),e.weight&&(o["data-weight"]=e.weight);const r=jQuery("<input />",o);return r.on("keyup",x),n.append(t,r),n});jQuery(d.container).html("").append(n)})(n),j=!1,Q=!1,T=!1,k(),[2,3].forEach(e=>E(e)),jQuery(c.content).slick("slickGoTo",t,!0),[1,2,3].forEach(e=>{jQuery(u.thickness(e)).val(""),jQuery(u.foamType(e)).prop("selectedIndex",0)}),jQuery(u.thickness(1)).parent(".thickness-wrapper").find("label").text(i[n].thicknessName)}).trigger("change")})(),[1,2,3].forEach(e=>{const n=(e=>{const n=jQuery("<div />",{class:"form-group col-sm-12 col-md-6 thickness-wrapper"}),t=jQuery("<label></label>").text("Thickness"),o=jQuery("<input />",{id:u.thickness(e,!1),class:"form-control",placeholder:"How many inches?"}).on("keyup",x);return n.append(t,o),n})(e),t=S(e);jQuery(u.container(e)).html("").append(n,t)})}]);