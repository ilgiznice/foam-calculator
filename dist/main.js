!function(e){var n={};function t(o){if(n[o])return n[o].exports;var s=n[o]={i:o,l:!1,exports:{}};return e[o].call(s.exports,s,s.exports,t),s.l=!0,s.exports}t.m=e,t.c=n,t.d=function(e,n,o){t.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:o})},t.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.t=function(e,n){if(1&n&&(e=t(e)),8&n)return e;if(4&n&&"object"==typeof e&&e&&e.__esModule)return e;var o=Object.create(null);if(t.r(o),Object.defineProperty(o,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var s in e)t.d(o,s,function(n){return e[n]}.bind(null,s));return o},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,"a",n),n},t.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},t.p="",t(t.s=0)}([function(e,n,t){"use strict";t.r(n);const o=["RECTANGLE","TRIANGLE","TRAPEZIUM","CHAIR","CLIPPED","L_SHAPED","T_SHAPED","V_SHAPED","CIRCULAR"],s={RECTANGLE:"custom-square-rectangle-foam.jpg",TRIANGLE:"wedge-custom-cushion.jpg",TRAPEZIUM:"trapezoid-custom-foam-cushion.jpg",CHAIR:"chair_cushion_custom_foam.jpg",CLIPPED:"clipped-bolster-custom-foam-cushion.jpg",L_SHAPED:"l-custom-foam-cushion.jpg",T_SHAPED:"t-shape-custom-cushion.jpg",V_SHAPED:"split-v-berth-custom-foam-cushion.jpg",CIRCULAR:"circular-cushion-or-bed.jpg"},i={RECTANGLE:"Rectangle or Square Cushion",TRIANGLE:"Triangle or *Wedge Cushion",TRAPEZIUM:"V-Berth / Trapezoid Cushion",CHAIR:"Chair Cushion",CLIPPED:"Clipped Bolster Cushion",L_SHAPED:"L Shaped Cushion",T_SHAPED:"T Shaped Cushion",V_SHAPED:"Split V-Berth Cushion",CIRCULAR:"Circular Cushion or Mattress"},a={RECTANGLE:{fields:[{name:"(1) Length",dimension:"x"},{name:"(2) Width",dimension:"y"}],thicknessName:"Thickness"},TRIANGLE:{fields:[{name:"(2) Length",dimension:"x"},{name:"(3) Width",dimension:"y"}],thicknessName:"(1) Thickness"},TRAPEZIUM:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},CHAIR:{fields:[{name:"(1) Length to radius",dimension:"x"},{name:"(2) Base Length",dimension:"y"},{name:"(4) Radius",dimension:"x"}],thicknessName:"(3) Thickness"},CLIPPED:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Bottom",dimension:"y"},{name:"(5) Side"}],thicknessName:"(2) Thickness"},L_SHAPED:{fields:[{name:"(1) Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Center"},{name:"(5) Ear Height"},{name:"(6) Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},T_SHAPED:{fields:[{name:"(1) Top",dimension:"x"},{name:"(3) Ear length",dimension:"y"},{name:"(4) Ear depth"},{name:"(5) Center Length",dimension:"y"},{name:"(6) Bottom"}],thicknessName:"(2) Thickness"},V_SHAPED:{fields:[{name:"(1) Back / Top"},{name:"(3) Length",dimension:"x"},{name:"(4) Front / Bottom",dimension:"y"}],thicknessName:"(2) Thickness"},CIRCULAR:{fields:[{name:"(2) Diameter",dimension:"x",weight:2}],thicknessName:"(1) Thickness"}},r={container:"#material-types",price:"material-price",description:"material-description"},c={content:"#carousel-content",prevArrow:"#slider-prev",nextArrow:"#slider-next"},l="#foam-shape",d={container:"#base-fields",field:(e=!0)=>`${e?".":""}base-field`},p={container:(e,n=!0)=>`${n?"#":""}layer-${e}-fields`,toggleContainer:(e,n=!0)=>`${n?"#":""}layer-${e}-toggle-container`,toggle:(e,n=!0)=>`${n?"#":""}layer-${e}-toggle`,thickness:(e,n=!0)=>`${n?"#":""}layer-${e}-thickness`,foamType:(e,n=!0)=>`${n?"#":""}layer-${e}-foam-type`},m="#cart",h="#minimum-price-note",u="#price",f='[data-drupal-selector="edit-unit-price-0-amount-number"]',g='[data-drupal-selector="description"]',y=/^\d*(\.\d*)?\d$/;let T=!1,k=!1,b=!1;const v=()=>{$(p.container(2)).toggleClass("hidden",!T),$(p.toggleContainer(3)).toggleClass("hidden",!k),$(p.container(3)).toggleClass("hidden",!b)},x=()=>[...$(r.container).find("div").map(function(){const e=$(this);return{price:e.data(r.price),description:e.data(r.description)}})],C=()=>{const e=(e=>n=>{const t=[$(p.thickness(n)).val(),$(p.foamType(n)).val()];return[...e,...t].reduce((e,n)=>e*n,1)})((()=>[...$(d.field())].reduce((e,n)=>{const t=$(n),o=t.val(),s=t.data("dimension"),i=t.data("weight")||1;return"x"===s&&(e[0]=(e[0]||0)+Math.pow(o,Number(i))),"y"===s&&(e[1]=(e[1]||0)+Math.pow(o,Number(i))),e},[]))()),n=e(1),t=T?e(2):0,o=b?e(3):0;let s=(n+t+o)/144||0;T&&t&&(s+=5),b&&o&&(s+=5),$(m).toggleClass("cart-not-available",s<5),$(u).text(`$ ${s.toFixed(2)}`),$(h).hide(),s<5&&$(h).show(),$(f).val(s.toFixed(2)),((e,n,t)=>{let o="";const s=e=>{const n=$(p.thickness(e)).val(),t=$(p.foamType(e));return n&&0!==t.prop("selectedIndex")?{thickness:n,foamType:t.find(":selected").text()}:null};o+=`Total thickness: ${[1,2,3].reduce((e,n)=>{const t=$(p.thickness(n)).val();return t?e+parseFloat(t):e},0)}, dimensions: ${[...$(d.field()).map((e,n)=>{const t=$(n);return{label:t.parent(".base-field-wrapper").find("label").text(),value:t.val()}})].map(({label:e,value:n})=>`${e}: ${n}`).join(", ")}`;const i=s(1);i&&(o+=`\nBase layer: ${i.thickness}" layer of ${i.foamType} ($${(e/144).toFixed(2)})`);const a=s(2);T&&a&&(o+=`\nSecond layer: ${a.thickness}" layer of ${a.foamType} ($${(n/144+5).toFixed(2)})`);const r=s(3);b&&r&&(o+=`\nThird layer: ${r.thickness}" layer of ${r.foamType} ($${(t/144+5).toFixed(2)})`),$(g).val(o)})(n,t,o)},E=function(){const e=$(this),n=e.val().toString();y.test(n)||""===n?(e.parent().find(".help-block").remove(),C()):e.parent().append((()=>{const e=$("<span />",{class:"help-block"});return e.text("Number must be in decimal form, i.e. 12.25 (is equal to 12 and 1/4 inches)"),e})())},A=e=>e.forEach(e=>{$(p.thickness(e)).val(""),$(p.foamType(e)).prop("selectedIndex",0)}),L=e=>{let n;switch(e){case 2:n=T;break;case 3:n=b;break;default:n=!1}$(`${p.toggle(e)}-plus`).toggleClass("hidden",n),$(`${p.toggle(e)}-minus`).toggleClass("hidden",!n)},P=e=>({thickness:$(p.thickness(e)).val(),foamType:$(p.foamType(e)).val()}),S=e=>{const n=(e=>n=>{const{thickness:t,foamType:o}=e[`layer${n}`];t&&$(p.thickness(n)).val(t),o&&$(p.foamType(n)).val(o)})(e);$(d.field()).each(function(n){$(this).val(e.base[n])}),n(1),e.layer2&&(n(2),T=!0),e.layer3&&(n(3),k=!0,b=!0),v(),[2,3].forEach(e=>L(e)),C()};$(p.toggle(2)).click(()=>{k=T=!T,T||(b=!1,A([2,3]),L(3)),L(2),v(),C()}),$(p.toggle(3)).click(()=>{(b=!b)||A([3]),L(3),v(),C()});const R={},w=e=>`images/${s[e]}`,I=e=>{const n=x(),t=$("<div />",{class:"form-group col-sm-12 col-md-6"}),o=$("<label />").text("Foam Type"),s=$("<select />",{id:p.foamType(e,!1),class:"form-control"}).on("change",C),i=n.map(({price:e,description:n})=>$("<option />",{val:e}).text(n)),a=$("<option selected disabled />").text("Select");return s.prop("selectedIndex",0).append(a,i),t.append(o,s),1===e&&t.append((()=>{const e=$("<a />",{class:"modal-togggle"}),n=$("<img />",{src:"svg/information.svg"});return e.append(n,"Learn more about foam types"),e})()),t};$=jQuery,(()=>{const e=$(c.content),n=o.map((e,n)=>{const t=$("<div />",{class:`item ${0===n?"active":""}`,"data-index":n,"data-shape":e}),o=$("<img />",{src:w(e),alt:i[e]});return t.append(o),t});e.append(n),e.slick({infinite:!0,centerMode:!0,prevArrow:$(c.prevArrow),nextArrow:$(c.nextArrow),mobileFirst:!0,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:1}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),e.on("beforeChange",(e,n,t,o)=>{R[t]=(()=>{const e={base:[...$(d.field()).map((e,n)=>$(n).val())],layer1:P(1)};return T&&(e.layer2=P(2)),b&&(e.layer3=P(3)),e})(),$(l).prop("selectedIndex",o).trigger("change")}),e.on("afterChange",(e,n,t)=>{const o=R[t];o&&S(o)})})(),(()=>{const e=o.map((e,n)=>$("<option></option>",{value:e,"data-index":n}).text(i[e]));$(l).append(e).on("change",function(){const e=$(this),n=e.val(),t=e.find(":selected").data("index");(e=>{const n=a[e].fields.map(e=>{const n=$("<div />",{class:"form-group col-sm-12 col-md-6 base-field-wrapper"}),t=$("<label></label>").text(e.name),o={class:`form-control ${d.field(!1)}`,placeholder:"How many inches?"};e.dimension&&(o["data-dimension"]=e.dimension),e.weight&&(o["data-weight"]=e.weight);const s=$("<input />",o);return s.on("keyup",E),n.append(t,s),n});$(d.container).html("").append(n)})(n),T=!1,k=!1,b=!1,v(),[2,3].forEach(e=>L(e)),$(c.content).slick("slickGoTo",t,!0),[1,2,3].forEach(e=>{$(p.thickness(e)).val(""),$(p.foamType(e)).prop("selectedIndex",0)}),$(p.thickness(1)).parent(".thickness-wrapper").find("label").text(a[n].thicknessName)}).trigger("change")})(),[1,2,3].forEach(e=>{const n=(e=>{const n=$("<div />",{class:"form-group col-sm-12 col-md-6 thickness-wrapper"}),t=$("<label></label>").text("Thickness"),o=$("<input />",{id:p.thickness(e,!1),class:"form-control",placeholder:"How many inches?"}).on("keyup",E);return n.append(t,o),n})(e),t=I(e);$(p.container(e)).html("").append(n,t)})}]);